# 三人聚智工具 使用说明

## 🚀 快速开始

### 安装依赖
```bash
npm install
```

### 开发环境运行
```bash
npm start
# 或者带调试模式
npm run dev
```

### 打包应用
```bash
# Windows版本
npm run build-win

# macOS版本
npm run build-mac

# Linux版本
npm run build-linux

# 所有平台
npm run build
```

### 清理项目
如需清理项目中的临时文件和构建产物：
```bash
npm run clean
```

### 完整重建
如果遇到问题，可以完整重建项目：
```bash
npm run rebuild
```

## ✨ 主要功能

### 1. 系统托盘功能
- **应用启动后自动隐藏到系统托盘**
- **双击托盘图标** - 重新打开主窗口
- **右键托盘图标** - 显示快捷菜单
- **关闭主窗口** - 隐藏到托盘（不退出应用）

### 2. 搜索浮窗
- **快捷键：`Ctrl + Space`** - 打开搜索浮窗
- **智能定位** - 浮窗会在鼠标附近显示
- **失焦隐藏** - 点击其他地方自动隐藏
- **钉住功能** - 按 `Ctrl + D` 钉住浮窗

### 3. 超级面板（新功能）
- **快捷键：`Ctrl + Alt + P`** - 打开超级面板
- **快速访问** - 一键执行常用功能
- **插件集成** - 所有插件功能均可添加到超级面板
- **自定义排列** - 支持拖拽和个性化排列
- **分类管理** - 按功能类型自动分类

#### 超级面板功能类型
- **密码生成**：简单密码、强密码、超强密码
- **时间工具**：当前时间、时间戳、UUID生成
- **系统工具**：计算器、记事本、文件管理
- **插件功能**：文本片段、AI助手、密码管理等

#### 如何使用超级面板
1. **添加功能**：在超级面板管理器中选择需要的功能
2. **移除功能**：点击功能卡片上的删除按钮
3. **重新排列**：拖拽功能卡片调整顺序
4. **快速执行**：点击功能图标即可执行

### 4. 插件系统
- **插件管理** - 支持加载和运行JavaScript插件
- **文本片段助手** - 快速插入常用文本
- **AI助手** - 智能对话和文本分析
- **密码管理器** - 安全的密码存储和生成
- **下载管理器** - 文件下载和管理工具
- **插件超级面板集成** - 所有插件功能都能添加到超级面板

### 5. 智能自动化
- **自动粘贴** - 选中的文本片段自动粘贴到当前活动窗口
- **焦点管理** - 自动恢复到原来的应用程序
- **剪贴板同步** - 无缝的剪贴板操作体验

## ⚙️ 配置选项

### 快捷键设置
- **全局快捷键**：默认 `Ctrl + Space`（可在设置中修改）
- **钉住快捷键**：默认 `Ctrl + D`（可在设置中修改）
- **超级面板快捷键**：默认 `Ctrl + Alt + P`（可在设置中修改）

### 开机自启动
- 可在设置中开启/关闭开机自启动功能

### 插件数据存储
- 所有插件数据存储在用户目录的 `plugin-data` 文件夹中
- 支持自定义数据存储路径
- 数据加密存储，确保安全性

## 🎯 使用技巧

### 搜索浮窗操作
1. **打开搜索**：按 `Ctrl + Space`
2. **输入关键词**：搜索插件功能或文本片段
3. **选择结果**：使用方向键选择，回车执行
4. **钉住浮窗**：按 `Ctrl + D` 保持浮窗显示
5. **隐藏浮窗**：按 `Esc` 或点击其他地方

### 超级面板操作
1. **打开面板**：按 `Ctrl + Alt + P`
2. **添加功能**：点击"+"按钮或进入管理器
3. **执行功能**：点击功能图标
4. **管理功能**：右键点击设置按钮进入管理器
5. **键盘导航**：使用方向键选择，回车执行
6. **关闭面板**：按 `Esc` 或点击其他地方

### 插件集成技巧
1. **快速访问**：将常用插件功能添加到超级面板
2. **分类管理**：按功能类型组织插件
3. **自定义图标**：插件支持自定义图标显示
4. **一键执行**：通过超级面板直接启动插件功能

### 托盘操作
1. **显示主窗口**：双击托盘图标
2. **快捷菜单**：右键托盘图标
3. **彻底退出**：右键托盘图标 → 退出应用

## 🔧 故障排除

### 托盘图标不显示
- 检查 `build/icon.ico` 文件是否存在
- 重启应用或重新打包

### 搜索浮窗无法打开
- 检查快捷键是否被其他应用占用
- 尝试在设置中修改快捷键

### 超级面板问题
- **图标不显示**：检查插件logo.ico文件
- **功能无响应**：查看控制台错误信息
- **配置丢失**：检查用户数据目录权限

### 插件功能异常
- 检查 `app/software` 目录下的插件文件
- 查看应用日志获取详细错误信息
- 确认插件配置文件 `plugin.json` 格式正确
- 检查插件数据存储权限

### 自动粘贴失效
- 确认目标应用程序支持文本输入
- 检查剪贴板访问权限
- 重启应用程序

### 项目清理
如果遇到构建问题或需要重新开始：
1. 运行清理命令：`npm run clean`
2. 重新安装依赖：`npm install`
3. 重新测试：`npm start`

## 📁 文件结构

```
sanrenjz-tools/
├── main.js                    # 主程序文件
├── index.html                 # 主窗口页面
├── search-window.html          # 搜索浮窗页面
├── super-panel.html            # 超级面板页面
├── package.json               # 项目配置
├── README.md                  # 项目说明
├── 使用说明.md               # 使用文档
├── .gitignore                # Git忽略文件
├── custom-super-panel-actions-example.json  # 超级面板配置示例
├── build/
│   └── icon.ico              # 应用图标
└── app/                      # 插件目录
    ├── software_manager.js   # 插件管理器
    └── software/             # 插件存放目录
        ├── sanrenjz-tools-text/           # 文本片段助手
        ├── sanrenjz-tools-password/       # 密码管理器
        ├── sanrenjz-tools-download_plugin/ # 下载管理器
        └── sanrenjz.tools-ai/             # AI助手
```

## 🛠️ 开发命令

### 基础命令
- `npm install` - 安装项目依赖
- `npm start` - 启动应用
- `npm run dev` - 启动应用（带调试）

### 构建命令
- `npm run build` - 打包所有平台
- `npm run build-win` - 打包Windows版本
- `npm run build-mac` - 打包macOS版本
- `npm run build-linux` - 打包Linux版本

### 维护命令
- `npm run clean` - 清理构建产物和临时文件
- `npm run rebuild` - 完整重建项目

## 🌟 高级功能

### 插件超级面板集成
- **自动注册**：新安装的插件自动注册到超级面板
- **图标支持**：支持ICO、PNG等格式的图标
- **功能分类**：按插件类型自动分类
- **一键访问**：通过超级面板直接执行插件功能

### 数据持久化
- **插件数据**：每个插件的数据独立存储
- **用户配置**：个人设置和偏好保存
- **超级面板配置**：自定义面板布局保存

### 安全特性
- **数据加密**：敏感数据加密存储
- **权限控制**：插件访问权限管理
- **安全通信**：进程间安全通信机制

## 🆘 技术支持

如果遇到问题，请：
1. 查看应用控制台日志（F12打开开发者工具）
2. 检查必要文件是否完整
3. 尝试运行 `npm run clean` 清理项目
4. 重新安装依赖：`npm install`
5. 重新启动：`npm start`
6. 查看GitHub Issues或提交新的问题报告

### 常见问题解决
- **插件无法加载**：检查plugin.json格式和路径
- **超级面板功能缺失**：重新注册插件功能
- **快捷键冲突**：修改应用设置中的快捷键配置
- **性能问题**：关闭不必要的插件和功能

---

**三人聚智工具** - 让效率工作更简单！ 